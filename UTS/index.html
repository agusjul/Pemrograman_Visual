<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Rentaku - Kini Sewa Jadi Lebih Mudah</title>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    <link rel="stylesheet" href="./stylesheet.css">
  </head>
  <body>
    <div class="kolom">
        <div class="kiri">
            <h1>Selamat datang di rentaku</h1>
    
            <p>Temukan mobil sewaan dengan mudah, nyaman dan murah. <br>
            Dengan pelayanan yang baik anda dapat menyewa mobil untuk jalan-jalan, <br>
            pergi ke suatu tempat bahkan piknik bersama keluarga. <br>
            Tunggu apa lagi segera gunakan layanan rentaku dan mulai perjalanan menyenangkan</p>
            <a onclick="book()">
                <button class="tombol">Sewa Sekarang!</button>
            </a>
        </div>
        <div class="kanan">
            <img src="./gambar mobil.jpg" alt="Rentaku app">
        </div>
    </div>
    <div id="daftarsewa"></div>
    <div id="mobilpilihan"></div>

    <script>
        function book(){
         const { ipcRenderer } = require('electron');
         ipcRenderer.send("booknow"); 
        }

        const electron = require("electron");
        const {ipcRenderer} = electron;
        ipcRenderer.send("sewa:request:index");
        ipcRenderer.send("mobil:request:index");

        ipcRenderer.on('sewa:response:index', (event, pesan) => {
        const listDiv = document.getElementById("daftarsewa");
        
        pesan.forEach(pesan => {
        const pesanDiv =document.createElement("div");

        const nameParagraph = document.createElement("p");
        nameParagraph.innerHTML = `Name: ${pesan.name}`;

        const numberParagraph = document.createElement("p")
        numberParagraph.innerHTML = `No. Telepon: ${pesan.number}`;

        const daterentParagraph = document.createElement("p")
        daterentParagraph.innerHTML = `Tanggal Disewa: ${pesan.daterent}`;

        const waktusewaParagraph = document.createElement("p")
        waktusewaParagraph.innerHTML = `Waktu Sewa: ${pesan.waktusewa}`;
        
        const datereturnParagraph = document.createElement("p")
        datereturnParagraph.innerHTML = `Tanggal Kembali: ${pesan.datereturn}`;

        const waktukembaliParagraph = document.createElement("p")
        waktukembaliParagraph.innerHTML = `Waktu Kembali: ${pesan.waktukembali}`;
        
        const locationParagraph = document.createElement("p")
        locationParagraph.innerHTML = `Lokasi: ${pesan.location}`;


        
    

        pesanDiv.appendChild(nameParagraph);
        pesanDiv.appendChild(numberParagraph);
        pesanDiv.appendChild(daterentParagraph);
        pesanDiv.appendChild(waktusewaParagraph);
        pesanDiv.appendChild(datereturnParagraph);
        pesanDiv.appendChild(waktukembaliParagraph);
        pesanDiv.appendChild(locationParagraph);

        listDiv.append(pesanDiv);

        });
    });

    ipcRenderer.on('mobil:response:list', (event, arg) => {
        
        const labelDiv = document.getElementById("mobilpilihan");
       
        arg.forEach(arg =>{
        daftarDiv =document.createElement("div");
        const mobilParagraph = document.createElement("p");
        mobilParagraph.innerHTML = `Mobil: ${arg.pilihan}`;
        

        const hr = document.createElement("hr");
        daftarDiv.appendChild(mobilParagraph);
        daftarDiv.appendChild(hr);
        labelDiv.append(daftarDiv);

        });
        });
    </script>
  </body>
</html>
